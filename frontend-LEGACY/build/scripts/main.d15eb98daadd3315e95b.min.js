(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGet=void 0;var n=function(){var e=u(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.config){e.next=2;break}return e.abrupt("return",l.config);case 2:return e.next=4,(0,a.default)({method:"GET",url:"/config/fetch-config.json"});case 4:return t=e.sent,r=t.data,l.config=r,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),a=(t.fetchGet=function(){var e=u(regeneratorRuntime.mark(function e(t,r){var u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:return u=e.sent,l=u.apiBaseUrl,e.abrupt("return",(0,a.default)({method:"GET",headers:{"Content-Type":"application/json"},url:""+l+t,params:r}));case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),function(e){return e&&e.__esModule?e:{default:e}}(r(698)));function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,u){try{var l=t[a](u),o=l.value}catch(e){return void r(e)}if(!l.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}var l={};t.default=function(){var e=u(regeneratorRuntime.mark(function e(t,r){var u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:return u=e.sent,l=u.apiBaseUrl,e.abrupt("return",(0,a.default)({method:"POST",headers:{"Content-Type":"application/json"},url:""+l+t,data:r}));case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},191:function(e,t,r){var n=r(681);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(140)(n,a);n.locals&&(e.exports=n.locals)},192:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IMAGE_BASE_PATH="images/",t.DATE_FORMAT="yyyy-MM-dd"},193:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=i(r(0)),a=i(r(1)),u=r(17),l=r(718),o=i(l);function i(e){return e&&e.__esModule?e:{default:e}}var s=4,d={cards:n.default.arrayOf(n.default.shape(l.cardPropTypes))};function c(e){var t=e.cards,r=parseInt(100/s-1);return a.default.createElement(u.ButtonToolbar,null,t.map(function(e,t){return a.default.createElement(o.default,{key:t,card:e,width:r+"%"})}))}c.defaultProps={cards:[]},c.propTypes=d},194:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.segmentGroupType=t.segmentType=t.idNameType=t.photoCardType=t.BusCompanyColors=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.BusCompanyColors={kmb:"red",ctb:"yellow",nwfb:"green",cmb:"light_blue"},t.photoCardType=n.default.shape({photo:n.default.string.isRequired,caption:n.default.string,description:n.default.node,extra:n.default.string,link:n.default.string,backgroundColor:n.default.oneOf(["red","yellow","green","light_blue","blue",""])}),t.idNameType=n.default.shape({id:n.default.string.isRequired,name:n.default.string.isRequired});var a=t.segmentType=n.default.shape({id:n.default.string.isRequired,photo:n.default.string.isRequired,title:n.default.string.isRequired,description:n.default.string.isRequired,link:n.default.string.isRequired});t.segmentGroupType={title:n.default.string,segments:n.default.arrayOf(n.default.shape(a))}},195:function(e,t,r){var n=r(719);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(140)(n,a);n.locals&&(e.exports=n.locals)},21:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strings=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(683));t.strings=new n.default({en_us:{title:"Hong Kong Advertised Bus Photo Database v2.0",home:"Home",categories:"Categories",models:"Bus Models",welcome:"Welcome",welcomeMessage:"This page collects photos of buses of different full-body advertisements taken by bus fans.",recentUpdates:"Recent Updates",noRecentUpdates:"No recent updates available",numAdvertisements:"Advertisements: {0}",numPhotos:"Photos: {0}",photoDetails:"Photo Details",busModel:"Model",busModelName:"{0} {1}",fleetPrefix:"Prefix (ex. 3AV)",fleetSuffix:"Number (ex. 102)",fleetNumber:"Fleet Number",licensePlateNumber:"Licence Plate Number",busCompany:"Bus Company",routeNumber:"Route",uploadedBy:"Uploaded By",dateUploaded:"Date Uploaded",relatedModel:"Related photos of same model",relatedFleet:"Related photos of same fleet",relatedBus:"Related photos of same bus",relatedRoute:"Related photos of same router number",search:"Search",general:"Keywords (separate by commas or space)",loadingTitle:"Loading",loadingMsg:"Content is being loaded, please wait.",errorTitle:"Error",errorMsg:"Error occurred when trying to load the contents, please try again later.",noResults:"No results found, please refine the query and try search again.",notFoundMsg:"Page not found, please check the URL and try again."},zh_hk:{title:"香港廣告巴士相片資料庫 v2.0",home:"主頁",categories:"分類",models:"巴士型號",welcome:"歡迎瀏覽",welcomeMessage:"本網頁旨在收集各個巴士迷拍攝之全車身廣告巴士相片。",recentUpdates:"最近更新",noRecentUpdates:"沒有任何最近更新",numAdvertisements:"廣告數目: {0}",numPhotos:"相片數目: {0}",photoDetails:"詳細資料",busModel:"型號",busModelName:"{0}{1}",fleetPrefix:"前綴 (例: 3AV)",fleetSuffix:"後綴 (例: 102)",fleetNumber:"車隊編號",licensePlateNumber:"車牌號碼",busCompany:"巴士公司",routeNumber:"路線編號",dateUploaded:"上傳日期",uploadedBy:"上傳者",relatedModel:"相同車型",relatedFleet:"相同車隊",relatedBus:"相同巴士",relatedRoute:"相同路線",search:"搜尋",general:"關鍵字 (以逗號或空格分隔)",loadingTitle:"載入中",loadingMsg:"正在載入中, 請稍候。",errorTitle:"錯誤",errorMsg:"發生錯誤, 請稍後再試。",noResults:"找不到任何結果, 請修正搜尋字眼並再試。",notFoundMsg:"找不到網頁, 請檢查網址再試。"}})},259:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADD_ENTITIES="ADD_ENTITIES",t.UPDATES_REQUEST="UPDATES_REQUEST",t.UPDATES_RECEIVE="UPDATES_RECEIVE",t.UPDATES_REJECT="UPDATES_REJECT"},288:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,u=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw u}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var l=["q","advertisementId","busModelId","busRouteId","fleetPrefix","fleetNumber","licensePlateNumber","routeNumber","username"],o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,null,[{key:"convertToQueryParams",value:function(e,t){var r=new URLSearchParams;return l.forEach(function(t){var n=a(t,2),u=n[0],l=n[1];e[u]&&r.append(l,e[u])}),r.toString()}},{key:"convertToFilter",value:function(e){var t=new URLSearchParams(e);return l.reduce(function(e,r){return n({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,t.get(r)))},{})}},{key:"convertToApiCallParams",value:function(e,t){var r=e.q,n=e.advertisementId,a=e.busModelId,u=e.busRouteId,l=e.fleetPrefix,o=e.fleetNumber,i=e.licensePlateNumber;return{search_text:r,order_by:"uploadedDate",sort:"desc",language:t,advertisement_id:n,bus_model_id:a,bus_route_id:u,bus_route_number:e.routeNumber,fleet_number:o,fleet_prefix:l,license_plate_number:i,uploader_name:e.username}}}]),e}();t.default=o},297:function(e,t,r){r(298),e.exports=r(500)},49:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADVERTISEMENTS_FETCH_REQUEST="ADVERTISEMENTS_FETCH_REQUEST",t.ADVERTISEMENTS_FETCH_RECEIVE="ADVERTISEMENTS_FETCH_RECEIVE",t.ADVERTISEMENTS_FETCH_REJECT="ADVERTISEMENTS_FETCH_REJECT",t.BUS_MODELS_REQUEST="BUS_MODELS_REQUEST",t.BUS_MODELS_RECEIVE="BUS_MODELS_RECEIVE",t.BUS_MODELS_REJECT="BUS_MODELS_REJECT",t.CATEGORIES_FETCH_REQUEST="CATEGORIES_FETCH_REQUEST",t.CATEGORIES_FETCH_RECEIVE="CATEGORIES_FETCH_RECEIVE",t.CATEGORIES_FETCH_REJECT="CATEGORIES_FETCH_REJECT",t.PHOTO_SEARCH_REQUEST="PHOTO_SEARCH_REQUEST",t.PHOTO_SEARCH_RECEIVE="PHOTO_SEARCH_RECEIVE",t.PHOTO_SEARCH_REJECT="PHOTO_SEARCH_REJECT",t.PHOTO_DETAIL_REQUEST="PHOTO_DETAIL_REQUEST",t.PHOTO_DETAIL_RECEIVE="PHOTO_DETAIL_RECEIVE",t.PHOTO_DETAIL_REJECT="PHOTO_DETAIL_REJECT"},500:function(e,t,r){"use strict";var n=s(r(1)),a=s(r(11)),u=r(26),l=r(76),o=s(r(510)),i=s(r(608));function s(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.default)(),c=d.history,f=d.store;a.default.render(n.default.createElement(l.Provider,{store:f},n.default.createElement(u.Router,{history:c},n.default.createElement(u.Route,{component:i.default}))),document.getElementById("root"))},510:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.createStore)((0,u.combineReducers)(n({},i.default,{router:a.routerReducer})),e,(0,u.applyMiddleware)((0,a.routerMiddleware)(d),o.default,c));return{history:d,store:t}};var a=r(745),u=r(196),l=r(511),o=s(r(512)),i=s(r(513));function s(e){return e&&e.__esModule?e:{default:e}}var d=(0,r(31).createBrowserHistory)(),c=(0,l.createLogger)()},513:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(514)),a=s(r(544)),u=s(r(603)),l=s(r(604)),o=s(r(605)),i=s(r(607));function s(e){return e&&e.__esModule?e:{default:e}}var d={advertisementListReducer:n.default,busModelListReducer:a.default,categoryListReducer:u.default,photoDetailReducer:l.default,searchResultReducer:o.default,updateListReducer:i.default};t.default=d},514:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case u.ADVERTISEMENTS_FETCH_RECEIVE:var r=t.payload.data,o=r.categoryId,i=r.advertisements,s=(0,a.default)(i,"[0].categoryName",null);return n({},e,{category:s?{id:o,name:s}:null,advertisements:n({},e.advertisements,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}({},o,i)),lastUpdated:Date.now(),isFetching:!1});case u.ADVERTISEMENTS_FETCH_REJECT:return n({},e,{isFetching:!1,error:t.payload.message});case u.ADVERTISEMENTS_FETCH_REQUEST:return n({},e,{isFetching:!0,error:""});default:return e}};var a=function(e){return e&&e.__esModule?e:{default:e}}(r(121)),u=r(49);var l={error:"",isFetching:!1,lastUpdated:null,category:null,advertisements:{}}},544:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case u.BUS_MODELS_RECEIVE:var r=t.payload.data,o=r.busModels,i=(0,a.default)(o,"busBrandName");return n({},e,{busBrandModelMap:i,isFetching:!1,lastUpdated:Date.now()});case u.BUS_MODELS_REJECT:return n({},e,{isFetching:!1,error:t.payload.message});case u.BUS_MODELS_REQUEST:return n({},e,{isFetching:!0,error:""});default:return e}};var a=function(e){return e&&e.__esModule?e:{default:e}}(r(545)),u=r(49);var l={error:"",isFetching:!1,lastUpdated:null,busBrandModelMap:{}}},603:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.CATEGORIES_FETCH_RECEIVE:var r=t.payload.data,l=r.categories;return n({},e,{categories:l,isFetching:!1,lastUpdated:Date.now()});case a.CATEGORIES_FETCH_REJECT:return n({},e,{isFetching:!1,error:t.payload.message});case a.CATEGORIES_FETCH_REQUEST:return n({},e,{isFetching:!0,error:""});default:return e}};var a=r(49),u={error:"",isFetching:!1,lastUpdated:null,categories:[]}},604:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.PHOTO_DETAIL_RECEIVE:var r=t.payload.data,l=r.photo;return n({},e,{photo:l,lastUpdated:Date.now(),isFetching:!1});case a.PHOTO_DETAIL_REJECT:return n({},e,{isFetching:!1,error:t.payload.message});case a.PHOTO_DETAIL_REQUEST:return n({},e,{isFetching:!0,error:""});default:return e}};var a=r(49),u={error:"",isFetching:!1,lastUpdated:null,photo:null}},605:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case u.PHOTO_SEARCH_RECEIVE:var r=e.results,i=t.payload.data,s=i.total,d=i.results,c=i.lastSortKey;return n({},e,{isFetching:!1,lastUpdated:Date.now(),lastSortKey:c,results:[].concat(l(r),l(d)),total:s});case u.PHOTO_SEARCH_REJECT:return n({},e,{isFetching:!1,error:t.payload.message});case u.PHOTO_SEARCH_REQUEST:var f=t.meta,p=f.filter,m=f.sort,E=f.nextSortKey,g=(0,a.default)(E);return n({},e,{isFetching:!0,error:"",filter:p,sort:m,nextSortKey:E,results:g?[]:e.results});default:return e}};var a=function(e){return e&&e.__esModule?e:{default:e}}(r(606)),u=r(49);function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o={error:"",filter:{},isFetching:!1,lastUpdated:null,lastSortKey:null,sort:{orderBy:"uploadedDate",sortDirection:"desc"},results:[],total:0}},607:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.UPDATES_RECEIVE:var r=t.payload.data,l=r.updates;return n({},e,{updates:l,isFetching:!1,lastUpdated:Date.now()});case a.UPDATES_REJECT:return n({},e,{isFetching:!1,error:t.payload.message});case a.UPDATES_REQUEST:return n({},e,{isFetching:!0});default:return e}};var a=r(259),u={error:null,isFetching:!1,lastUpdated:null,updates:[]}},608:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,u=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw u}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=F;var u=R(r(0)),l=r(1),o=R(l),i=r(26),s=r(17),d=R(r(746)),c=R(r(191)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(192)),p=r(21),m=R(r(686)),E=R(r(691)),g=r(75),v=R(r(694)),h=R(r(695)),_=R(r(720)),y=R(r(726)),b=R(r(730)),T=R(r(739));function R(e){return e&&e.__esModule?e:{default:e}}var M="en_us",P=5,O=Array(P).fill(0).map(function(e,t){return f.IMAGE_BASE_PATH+"header-"+(t+1)+".jpg"}),C=new d.default,S={history:u.default.object.isRequired,location:u.default.object.isRequired},x=function(){var e=C.get("defaultLanguage");return e?(p.strings.setLanguage(e),e):M};function F(e){var t=(0,l.useState)(O[0]),r=a(t,2),u=r[0],d=r[1],f=(0,l.useState)({language:x()}),R=a(f,2),S=R[0],F=R[1],I=function(){var e=Math.floor(Math.random()*Math.floor(P));d(O[e])};(0,l.useEffect)(function(){e.history.listen(I),I()});var A=S.language;return o.default.createElement(g.GlobalContext.Provider,{value:S},o.default.createElement("div",{className:"container"},o.default.createElement(E.default,{headerImg:u,language:A,onChangeLanguage:function(e){return function(){if(A!==e){var t=e;p.strings.getAvailableLanguages().indexOf(e)<0&&(t=M),p.strings.setLanguage(t),C.set("defaultLanguage",t),F(n({},S,{language:t}))}}}}),o.default.createElement(s.Panel,{className:c.default["body-container"]},o.default.createElement(i.Switch,null,o.default.createElement(i.Route,{component:m.default,exact:!0,path:"/"}),o.default.createElement(i.Route,{component:y.default,exact:!0,path:"/categories"}),o.default.createElement(i.Route,{component:h.default,exact:!0,path:"/categories/:id"}),o.default.createElement(i.Route,{component:T.default,exact:!0,path:"/photos/:id"}),o.default.createElement(i.Route,{component:b.default,exact:!0,path:"/search"}),o.default.createElement(i.Route,{component:_.default,exact:!0,path:"/models"}),o.default.createElement(i.Route,{component:v.default}))),o.default.createElement(s.Panel.Footer,{className:c.default["body-footer"]},"Created by Alex Leung © 2018")))}F.propTypes=S},681:function(e,t,r){(t=e.exports=r(139)(!1)).push([e.i,"body{background-color:lightgray;font-family:'Microsoft JhengHei'}._18TgsQUUuUuLSEhEXU5bn9{box-shadow:0 1px 3px 0 #d4d4d5, 0 0 0 1px #d4d4d5;margin-top:-20px;margin-bottom:0px;padding:15px}.Pmn1MtEng52ocoH3Wk84Z{font-size:12px;margin-bottom:20px}.IBGxtMTcZnfzyA97qcGUN{margin-bottom:30px}._3rG1E2ivf66NaW2aiB6dur{text-align:center}@media screen and (max-width: 1000px){._2yJOgCzMKRRklcB9KDfv3N{width:49% !important}}@media screen and (max-width: 700px){._2yJOgCzMKRRklcB9KDfv3N{width:99% !important}}._3OPd9Xc1NZP3YeE7OFRNaA{text-align:left}._3OPd9Xc1NZP3YeE7OFRNaA img{max-width:200px}._2NepXTxBmshEZ2_YXy7yiW{font-size:24px;padding:5px}\n",""]),t.locals={"body-container":"_18TgsQUUuUuLSEhEXU5bn9","body-footer":"Pmn1MtEng52ocoH3Wk84Z","home-section":"IBGxtMTcZnfzyA97qcGUN",loader:"_3rG1E2ivf66NaW2aiB6dur","photo-card":"_2yJOgCzMKRRklcB9KDfv3N","update-item":"_3OPd9Xc1NZP3YeE7OFRNaA","user-icon":"_2NepXTxBmshEZ2_YXy7yiW"}},686:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,u.useSelector)(i.getUpdates),t=e.error,r=e.isFetching,f=e.updates,p=(0,u.useDispatch)(),m=(0,n.useContext)(d.GlobalContext).language,E=function(e){p((0,s.default)(e))};return(0,n.useEffect)(function(){E(m)},[]),(0,n.useEffect)(function(){E(m)},[m]),a.default.createElement("div",null,a.default.createElement("div",{className:l.default["home-section"]},a.default.createElement("h3",null,o.strings.welcome),a.default.createElement("p",null,o.strings.welcomeMessage)),a.default.createElement("div",null,a.default.createElement("h4",null,o.strings.recentUpdates),a.default.createElement(c.default,{error:t,isFetching:r,updates:f})))};var n=r(1),a=f(n),u=r(76),l=f(r(191)),o=r(21),i=r(687),s=f(r(688)),d=r(75),c=f(r(689));function f(e){return e&&e.__esModule?e:{default:e}}},687:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getUpdates=function(e){var t=e.updateListReducer;return{error:t.error,isFetching:t.isFetching,updates:t.updates}}},688:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e,t){var r=t(),a=r.updateListReducer.isFetching;return a?Promise.resolve():(e({type:n.UPDATES_REQUEST}),Promise.resolve({data:{updates:[]}}).then(function(t){return e(function(e){return{type:n.UPDATES_RECEIVE,payload:{data:e.data}}}(t))}).catch(function(t){return e(function(e){return{type:n.UPDATES_REJECT,payload:e,error:!0}}(t))}))}};var n=r(259)},689:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesPropTypes=void 0,t.default=g;var n=r(279),a=p(r(0)),u=p(r(1)),l=r(26),o=r(17),i=p(r(191)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(192)),d=r(21),c=p(r(87)),f=p(r(88));function p(e){return e&&e.__esModule?e:{default:e}}var m=t.updatesPropTypes={id:a.default.string.isRequired,summary:a.default.string.isRequired,time:a.default.string.isRequired,photo:a.default.string.isRequired},E={error:a.default.string.isRequired,isFetching:a.default.bool.isRequired,updates:a.default.arrayOf(a.default.shape(m)).isRequired};function g(e){var t=e.error,r=e.isFetching,a=e.updates;return r?u.default.createElement(f.default,null):t?u.default.createElement(c.default,null):!a||a.length<1?u.default.createElement(o.ListGroup,null,u.default.createElement(o.ListGroupItem,null,d.strings.noRecentUpdates)):u.default.createElement(o.ButtonGroup,null,a.map(function(e,t){var r=n.DateTime.fromMillis(e.time);return u.default.createElement(o.Button,{className:i.default["update-item"],componentClass:l.Link,key:t,href:"/updates/"+e.id,to:"/updates/"+e.id},u.default.createElement(o.Media,null,u.default.createElement(o.Media.Left,null,u.default.createElement("img",{src:""+s.IMAGE_BASE_PATH+e.photo})),u.default.createElement(o.Media.Body,null,u.default.createElement("strong",null,r.toFormat("YYYY-MM-DD HH:mm")),u.default.createElement("p",null,e.summary))))}))}g.propTypes=E},691:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(0),a=s(r(1)),u=r(26),l=r(17),o=r(21),i=s(r(692));function s(e){return e&&e.__esModule?e:{default:e}}var d={headerImg:n.string.isRequired,language:n.string.isRequired,onChangeLanguage:n.func.isRequired};function c(e){var t=e.headerImg,r=e.language,n=e.onChangeLanguage;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:i.default["header-image"],style:{backgroundImage:"url("+t+")"}}),a.default.createElement(l.Navbar,{inverse:!0,fluid:!0},a.default.createElement(l.Navbar.Header,null,a.default.createElement(l.Navbar.Brand,{className:i.default["navbar-title"]},a.default.createElement(u.Link,{to:"/"},o.strings.title))),a.default.createElement(l.Navbar.Collapse,null,a.default.createElement(l.Nav,null,a.default.createElement(l.NavItem,{eventKey:1,componentClass:u.Link,role:"button",href:"/categories",to:"/categories"},a.default.createElement(l.Glyphicon,{glyph:"th-list"})," ",o.strings.categories),a.default.createElement(l.NavItem,{eventKey:2,componentClass:u.Link,role:"button",href:"/models",to:"/models"},a.default.createElement(l.Glyphicon,{glyph:"modal-window"})," ",o.strings.models)),a.default.createElement(l.Nav,{pullRight:!0,activeKey:"en_us"===r?1:2},a.default.createElement(l.NavItem,{eventKey:1,onClick:n("en_us")},"Eng"),a.default.createElement(l.NavItem,{eventKey:2,onClick:n("zh_hk")},"中")))))}c.propTypes=d},692:function(e,t,r){var n=r(693);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(140)(n,a);n.locals&&(e.exports=n.locals)},693:function(e,t,r){(t=e.exports=r(139)(!1)).push([e.i,"._4bBsxR7YEwyuYAHfMJ5IM{background-color:black;background-repeat:no-repeat;background-size:100% auto;min-height:160px}._bpMuXQV_xi9YODoE6UU{font-size:14px}\n",""]),t.locals={"header-image":"_4bBsxR7YEwyuYAHfMJ5IM","navbar-title":"_bpMuXQV_xi9YODoE6UU"}},694:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement(a.Alert,{bsStyle:"danger"},n.default.createElement("p",null,u.strings.notFoundMsg))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),a=r(17),u=r(21)},695:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,u.useSelector)(o.getAdvertisements),r=t.advertisements,d=t.category,c=t.isFetching,f=t.error,p=e.match.params.id,m=(0,u.useDispatch)(),E=(0,n.useContext)(l.GlobalContext).language;return(0,n.useEffect)(function(){!function(e,t){m((0,i.default)(e,t))}(p,E)},[E]),a.default.createElement(s.default,{advertisements:r,category:d,isFetching:c,error:f})};var n=r(1),a=d(n),u=r(76),l=r(75),o=r(696),i=d(r(697)),s=d(r(717));function d(e){return e&&e.__esModule?e:{default:e}}},696:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdvertisements=function(e){var t=e.advertisementListReducer,r=t.category,a=t.advertisements,u=t.isFetching,l=t.error,o=(0,n.default)(r,"id",0);return{advertisements:(0,n.default)(a,o,[]),category:r,isFetching:u,error:l}};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(121))},697:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return function(r,l){var o=l(),i=o.advertisementListReducer.isFetching;return i?Promise.resolve():(r({type:a.ADVERTISEMENTS_FETCH_REQUEST}),function(e,t){return(0,u.fetchGet)("categories/"+e+"/advertisements",{language:t})}(e,t).then(function(t){return r(function(e,t){return{type:a.ADVERTISEMENTS_FETCH_RECEIVE,payload:{data:n({},t.data,{categoryId:e})}}}(e,t))}).catch(function(e){return r(function(e){return{type:a.ADVERTISEMENTS_FETCH_REJECT,payload:e,error:!0}}(e))}))}};var a=r(49),u=r(103)},717:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var n=c(r(0)),a=c(r(1)),u=r(26),l=r(17),o=r(21),i=c(r(87)),s=c(r(88)),d=c(r(193));function c(e){return e&&e.__esModule?e:{default:e}}var f={advertisements:{},category:{},isFetching:n.default.bool.isRequired,error:n.default.string.isRequired};function p(e){var t=e.advertisements,r=e.category,n=e.isFetching,c=e.error;if(n)return a.default.createElement(s.default,null);if(c||!r)return a.default.createElement(i.default,{error:c});var f=t.map(function(e){return{photo:e.thumbnail,caption:e.name,link:"/search?advertisementId="+e.id}});return a.default.createElement("div",null,a.default.createElement(l.Breadcrumb,null,a.default.createElement(l.Breadcrumb.Item,{componentClass:u.Link,to:"/",href:"/"},o.strings.home),a.default.createElement(l.Breadcrumb.Item,{componentClass:u.Link,to:"/categories",href:"/categories"},o.strings.categories),a.default.createElement(l.Breadcrumb.Item,{active:!0},r.name)),a.default.createElement(d.default,{cards:f}))}p.propTypes=f},718:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var n=s(r(0)),a=s(r(1)),u=r(26),l=r(17),o=r(194),i=s(r(195));function s(e){return e&&e.__esModule?e:{default:e}}var d={red:"danger",green:"success",yellow:"warning",light_blue:"info",blue:"info"},c={card:o.photoCardType.isRequired,width:n.default.string};function f(e){var t=e.card,r=e.width;return a.default.createElement(l.Button,{className:i.default["photo-card"],bsStyle:d[t.backgroundColor]||"default",componentClass:u.Link,href:t.link,to:t.link,style:{width:r}},a.default.createElement("img",{src:t.photo}),a.default.createElement("div",{className:i.default["photo-card-caption"]},a.default.createElement("strong",null,t.caption)),t.description,t.extra&&a.default.createElement("div",null,a.default.createElement(l.Glyphicon,{glyph:"camera"})," ",t.extra))}f.defaultProps={card:{caption:"",description:null,extra:"",link:"",backgroundColor:""},width:"100%"},f.propTypes=c},719:function(e,t,r){(t=e.exports=r(139)(!1)).push([e.i,".jtx4rWokc3_jGueJ8bBId{padding:0px}._2FNTVCHZ1DriZfPi_61cJ_{display:flex;align-items:stretch}._2FNTVCHZ1DriZfPi_61cJ_ div{text-align:center}._2FNTVCHZ1DriZfPi_61cJ_ div:first-child{border-right:1px solid #dddddd;flex-grow:1;padding-left:12px;padding-right:12px;max-width:250px}._2FNTVCHZ1DriZfPi_61cJ_ div:first-child img{max-height:170px;padding:12px}._2FNTVCHZ1DriZfPi_61cJ_ div:nth-child(2){align-self:center;flex-grow:9}.Qro4To02gPHQW4rrleW_a{background-color:gold;color:black;font-weight:800;padding:1px 5px}._1Ht2SRzZoxl6sHAHaiHkM{margin-bottom:10px;word-break:break-all}.sf0amdL4U8IaB3TssYHiv{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._1Ht2SRzZoxl6sHAHaiHkM img{max-width:100%;max-height:150px}._1TPfutGu-CpPKdoLYj5m9g{font-size:14px}._3Y_0MOIu9pFPhaB5GU7Gz0{margin-left:auto;margin-right:auto;margin-bottom:10px}.HuEcy3uJtYfqqK9HL7lJt{background-color:black;color:white;font-weight:800;padding:1px 10px}\n",""]),t.locals={"bus-model-item-btn":"jtx4rWokc3_jGueJ8bBId","bus-model-item":"_2FNTVCHZ1DriZfPi_61cJ_","license-plate":"Qro4To02gPHQW4rrleW_a","photo-card":"_1Ht2SRzZoxl6sHAHaiHkM","photo-card-caption":"sf0amdL4U8IaB3TssYHiv","photo-details-table":"_1TPfutGu-CpPKdoLYj5m9g","photo-details-image":"_3Y_0MOIu9pFPhaB5GU7Gz0","route-number":"HuEcy3uJtYfqqK9HL7lJt"}},720:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,u.useSelector)(o.getBusModels),t=e.busBrandModelMap,r=e.error,d=e.isFetching,c=(0,u.useDispatch)(),f=(0,n.useContext)(l.GlobalContext).language;return(0,n.useEffect)(function(){!function(e){c((0,i.default)(e))}(f)},[f]),a.default.createElement(s.default,{busBrandModelMap:t,isFetching:d,error:r})};var n=r(1),a=d(n),u=r(76),l=r(75),o=r(721),i=d(r(722)),s=d(r(723));function d(e){return e&&e.__esModule?e:{default:e}}},721:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBusModels=function(e){var t=e.busModelListReducer,r=t.busBrandModelMap,n=t.error,a=t.isFetching;return{busBrandModelMap:r,error:n,isFetching:a}}},722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){var u=r(),l=u.busModelListReducer.isFetching;return l?Promise.resolve():(t({type:n.BUS_MODELS_REQUEST}),function(e){return(0,a.fetchGet)("bus-models",{language:e})}(e).then(function(e){return t(function(e){return{type:n.BUS_MODELS_RECEIVE,payload:{data:e.data}}}(e))}).catch(function(e){return t(function(e){return{type:n.BUS_MODELS_REJECT,payload:e,error:!0}}(e))}))}};var n=r(49),a=r(103)},723:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,u=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw u}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=m;var a=f(r(121)),u=f(r(0)),l=f(r(1)),o=r(17),i=r(21),s=f(r(724)),d=f(r(87)),c=f(r(88));function f(e){return e&&e.__esModule?e:{default:e}}var p={busBrandModelMap:u.default.objectOf(u.default.arrayOf(u.default.shape({}))).isRequired,isFetching:u.default.bool.isRequired,error:u.default.string.isRequired};function m(e){var t=e.busBrandModelMap,r=e.isFetching,u=e.error;return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.Breadcrumb,null,l.default.createElement(o.Breadcrumb.Item,{componentClass:o.Link,to:"/",href:"/"},i.strings.home),l.default.createElement(o.Breadcrumb.Item,{active:!0},i.strings.categories)),r?l.default.createElement(c.default,null):u?l.default.createElement(d.default,null):Object.entries(t).map(function(e){var t=n(e,2),r=t[0],u=t[1];return{id:"brand-"+(0,a.default)(u,"[0]","unknown"),title:r,segments:u.map(function(e){var t=e.id,n=e.name;return{id:t,photo:e.thumbnail,title:i.strings.formatString(i.strings.busModelName,r,n),description:"",link:"/search?busModelId="+t}})}}).map(function(e){var t=e.id,r=e.title,n=e.segments;return l.default.createElement(s.default,{key:"brand-"+t,title:r,segments:n})}))}m.propTypes=p},724:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.segmentGroupPropTypes=void 0,t.default=d;var n=i(r(0)),a=i(r(1)),u=r(17),l=i(r(725)),o=r(194);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.segmentGroupPropTypes={title:n.default.string,segments:n.default.arrayOf(o.segmentType)};function d(e){var t=e.title,r=e.segments;return a.default.createElement(u.Panel,null,a.default.createElement(u.Panel.Heading,null,t),a.default.createElement(u.Panel.Body,null,a.default.createElement(u.ButtonGroup,{vertical:!0,block:!0},r.map(function(e){return a.default.createElement(l.default,{key:"model-"+e.id,segment:e})}))))}d.defaultProps={title:"",segments:[]},d.propTypes=s},725:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=o(r(1)),a=r(26),u=r(17),l=o(r(195));function o(e){return e&&e.__esModule?e:{default:e}}var i={segment:r(194).segmentType.isRequired};function s(e){var t=e.segment,r=t.photo,o=t.title,i=t.link;return n.default.createElement(u.Button,{className:l.default["bus-model-item-btn"],componentClass:a.Link,href:i,to:i},n.default.createElement("div",{className:l.default["bus-model-item"]},n.default.createElement("div",null,n.default.createElement(u.Image,{responsive:!0,size:"small",src:r})),n.default.createElement("div",null,o)))}s.propTypes=i},726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,u.useSelector)(o.getCategories),t=e.categories,r=e.error,d=e.isFetching,c=(0,u.useDispatch)(),f=(0,n.useContext)(l.GlobalContext).language;return(0,n.useEffect)(function(){!function(e){c((0,i.default)(e))}(f)},[f]),a.default.createElement(s.default,{categories:t,isFetching:d,error:r})};var n=r(1),a=d(n),u=r(76),l=r(75),o=r(727),i=d(r(728)),s=d(r(729));function d(e){return e&&e.__esModule?e:{default:e}}},727:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCategory=function(e){return e.advertisementListReducer.category||{}},t.getCategories=function(e){var t=e.categoryListReducer,r=t.categories,n=t.error,a=t.isFetching;return{categories:r,error:n,isFetching:a}}},728:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){var u=r(),l=u.categoryListReducer.isFetching;return l?Promise.resolve():(t({type:n.CATEGORIES_FETCH_REQUEST}),function(e){return(0,a.fetchGet)("categories",{language:e})}(e).then(function(e){return t(function(e){return{type:n.CATEGORIES_FETCH_RECEIVE,payload:{data:e.data}}}(e))}).catch(function(e){return t(function(e){return{type:n.CATEGORIES_FETCH_REJECT,payload:e,error:!0}}(e))}))}};var n=r(49),a=r(103)},729:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var n=c(r(0)),a=c(r(1)),u=r(26),l=r(17),o=r(21),i=c(r(87)),s=c(r(88)),d=c(r(193));function c(e){return e&&e.__esModule?e:{default:e}}var f={categories:n.default.arrayOf(n.default.object).isRequired,isFetching:n.default.bool.isRequired,error:n.default.string.isRequired};function p(e){var t=e.categories,r=e.isFetching,n=e.error;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Breadcrumb,null,a.default.createElement(l.Breadcrumb.Item,{componentClass:u.Link,to:"/",href:"/"},o.strings.home),a.default.createElement(l.Breadcrumb.Item,{active:!0},o.strings.categories)),function(){if(r)return a.default.createElement(s.default,null);if(n)return a.default.createElement(i.default,null);var e=t.map(function(e){return{photo:e.thumbnail,caption:e.name,link:"/categories/"+e.id}});return a.default.createElement(d.default,{cards:e})}())}p.propTypes=f},730:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.location.search,r=(0,u.useSelector)(i.getSearchResults),f=r.error,p=r.filter,m=r.isFetching,E=r.lastSortKey,g=r.sort,v=r.results,h=(0,l.useHistory)(),_=(0,u.useDispatch)(),y=(0,n.useContext)(o.GlobalContext).language;(0,n.useEffect)(function(){!function(e,t,r,n){_((0,s.default)(e,t,r,n))}(t,g,E,y)},[t,y]);return a.default.createElement(d.default,{isFetching:m,error:f,filter:p,onFilter:function(e){var t=c.default.convertToQueryParams(e,g);h.push("/search?"+t)},results:v})};var n=r(1),a=f(n),u=r(76),l=r(26),o=r(75),i=r(731),s=f(r(732)),d=f(r(733)),c=f(r(288));function f(e){return e&&e.__esModule?e:{default:e}}},731:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchResults=function(e){var t=e.searchResultReducer,r=t.error,n=t.filter,a=t.isFetching,u=t.lastSortKey,l=t.sort,o=t.results;return{error:r,filter:n,isFetching:a,lastSortKey:u,sort:l,results:o}}},732:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,l){return function(o,i){var s=i(),d=s.searchResultReducer.isFetching;if(d)return Promise.resolve();var c=a.default.convertToFilter(e);return o(function(e,t,r){return{type:n.PHOTO_SEARCH_REQUEST,meta:{filter:e,sort:t,nextSortKey:r}}}(c,t,r)),function(e,t){return(0,u.fetchGet)("photos",a.default.convertToApiCallParams(e,t))}(c,l).then(function(e){return o(function(e){return{type:n.PHOTO_SEARCH_RECEIVE,payload:{data:e.data}}}(e))}).catch(function(e){return o(function(e){return{type:n.PHOTO_SEARCH_REJECT,payload:e,error:!0}}(e))})}};var n=r(49),a=function(e){return e&&e.__esModule?e:{default:e}}(r(288)),u=r(103)},733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var n=m(r(0)),a=m(r(1)),u=r(26),l=r(17),o=m(r(734)),i=m(r(193)),s=m(r(735)),d=r(21),c=m(r(87)),f=m(r(88)),p=m(r(738));function m(e){return e&&e.__esModule?e:{default:e}}var E={isFetching:n.default.bool.isRequired,error:n.default.string.isRequired,filter:n.default.shape({}).isRequired,onFilter:n.default.func.isRequired,results:n.default.arrayOf(n.default.shape({})).isRequired};function g(e){var t=e.isFetching,r=e.error,n=e.filter,m=e.onFilter,E=e.results;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Breadcrumb,null,a.default.createElement(l.Breadcrumb.Item,{componentClass:u.Link,to:"/",href:"/"},d.strings.home),a.default.createElement(l.Breadcrumb.Item,{componentClass:u.Link,to:"/search",href:"/search"},d.strings.search)),a.default.createElement(s.default,{filter:n,onFilter:m}),function(){if(t)return a.default.createElement(f.default,null);if(r)return a.default.createElement(c.default,null);if(E.length<1)return a.default.createElement(p.default,null);var e=E.map(function(e){var t=e.busCompany,r=e.photoId,n=e.fleetPrefix,a=e.fleetNumber,u=e.licensePlateNumber,l=e.thumbnail;return{backgroundColor:(0,o.default)(t),caption:""+n+a,description:u,link:"/photos/"+r,photo:l}});return a.default.createElement(i.default,{cards:e})}())}g.propTypes=E},734:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{kmb:"red",ctb:"yellow",nwfb:"green",cmb:"light_blue"}[e.toLowerCase()]||"default"}},735:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,u=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw u}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=m;var u=c(r(0)),l=r(1),o=c(l),i=r(17),s=r(21),d=c(r(736));function c(e){return e&&e.__esModule?e:{default:e}}var f={onFilter:Function.prototype,onSort:Function.prototype},p={filter:u.default.shape({}).isRequired,sort:u.default.shape({}).isRequired,onFilter:u.default.func,onSort:u.default.func};function m(e){var t=e.filter,r=(e.sort,e.onFilter),u=(e.onSort,(0,l.useState)({})),c=a(u,2),f=c[0],p=c[1];(0,l.useEffect)(function(){p(t)},[t]);var m=f.q,E=f.fleetPrefix,g=f.fleetNumber,v=f.licensePlateNumber,h=f.routeNumber,_=f.username,y=function(e){return function(r){p(n({},t,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,r.currentTarget.value)))}};return o.default.createElement("form",{className:d.default["photo-search-filter-container"],onSubmit:function(e){r(f),e.preventDefault()}},o.default.createElement(i.FormGroup,null,o.default.createElement(i.ControlLabel,null,s.strings.general),o.default.createElement(i.FormControl,{onChange:y("q"),type:"text",value:m}),o.default.createElement(i.ControlLabel,null,s.strings.routeNumber),o.default.createElement(i.FormControl,{onChange:y("routeNumber"),type:"text",value:h}),o.default.createElement(i.ControlLabel,null,s.strings.fleetNumber),o.default.createElement(i.InputGroup,null,o.default.createElement(i.InputGroup.Addon,null,s.strings.fleetPrefix),o.default.createElement(i.FormControl,{onChange:y("fleetPrefix"),type:"text",value:E})),o.default.createElement(i.InputGroup,null,o.default.createElement(i.InputGroup.Addon,null,s.strings.fleetSuffix),o.default.createElement(i.FormControl,{onChange:y("fleetNumber"),type:"text",value:g})),o.default.createElement(i.ControlLabel,null,s.strings.licensePlateNumber),o.default.createElement(i.FormControl,{onChange:y("licensePlateNumber"),type:"text",value:v}),o.default.createElement(i.ControlLabel,null,s.strings.uploadedBy),o.default.createElement(i.FormControl,{onChange:y("username"),type:"text",value:_})),o.default.createElement(i.Button,{variant:"primary",type:"submit"},s.strings.search))}m.defaultProps=f,m.propTypes=p},736:function(e,t,r){var n=r(737);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(140)(n,a);n.locals&&(e.exports=n.locals)},737:function(e,t,r){(t=e.exports=r(139)(!1)).push([e.i,"._3QHphmSZKx2RJa_gVEV1Dw{background-color:lightgray;margin:0.5rem;padding:0.5rem}\n",""]),t.locals={"photo-search-filter-container":"_3QHphmSZKx2RJa_gVEV1Dw"}},738:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement(a.Alert,{bsStyle:"warning"},n.default.createElement("p",null,u.strings.noResults))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),a=r(17),u=r(21)},739:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,n.useSelector)(o.getPhoto),r=t.photo,d=t.isFetching,c=t.error,f=e.match.params.id,p=(0,n.useDispatch)(),m=(0,a.useContext)(l.GlobalContext).language;return(0,a.useEffect)(function(){!function(e,t){p((0,i.default)(e,t))}(f,m)},[m]),u.default.createElement(s.default,{photo:r,isFetching:d,error:c})};var n=r(76),a=r(1),u=d(a),l=r(75),o=r(740),i=d(r(741)),s=d(r(742));function d(e){return e&&e.__esModule?e:{default:e}}},740:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPhoto=function(e){var t=e.photoDetailReducer,r=t.error,n=t.isFetching,a=t.photo;return{error:r,isFetching:n,photo:a}}},741:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,u){var l=u(),o=l.photoDetailReducer.isFetching;return o?Promise.resolve():(r({type:n.PHOTO_DETAIL_REQUEST}),function(e,t){return(0,a.fetchGet)("photos/"+e,{language:t})}(e,t).then(function(e){return r(function(e){return{type:n.PHOTO_DETAIL_RECEIVE,payload:{data:e.data}}}(e))}).catch(function(e){return r(function(e){return{type:n.PHOTO_DETAIL_REJECT,payload:e,error:!0}}(e))}))}};var n=r(49),a=r(103)},742:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.idNamePropTypes=void 0,t.default=m;var n=f(r(0)),a=f(r(1)),u=r(26),l=r(17),o=r(21),i=f(r(87)),s=f(r(88)),d=r(743),c=f(d);function f(e){return e&&e.__esModule?e:{default:e}}t.idNamePropTypes={id:n.default.string.isRequired,name:n.default.string.isRequired};var p={photo:n.default.shape(d.photoPropTypes).isRequired,isFetching:n.default.bool.isRequired,error:n.default.string.isRequired};function m(e){var t=e.photo,r=e.isFetching,n=e.error;if(r)return a.default.createElement(s.default,null);if(n||!t)return a.default.createElement(i.default,null);var d=t.advertisement,f=t.advertisementId,p=t.category,m=t.categoryId;return a.default.createElement("div",null,a.default.createElement(l.Breadcrumb,null,a.default.createElement(l.Breadcrumb.Item,{componentClass:u.Link,to:"/",href:"/"},o.strings.home),a.default.createElement(l.Breadcrumb.Item,{componentClass:u.Link,to:"/categories",href:"/categories"},o.strings.categories),a.default.createElement(l.Breadcrumb.Item,{componentClass:u.Link,to:"/categories/"+m,href:"/categories/"+m},p),a.default.createElement(l.Breadcrumb.Item,{componentClass:u.Link,to:"/advertisements/"+f,href:"/advertisements/"+f},d),a.default.createElement(l.Breadcrumb.Item,{active:!0},o.strings.photoDetails)),a.default.createElement(c.default,{photo:t}))}m.propTypes=p},743:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var n=r(279),a=f(r(0)),u=f(r(1)),l=r(26),o=r(17),i=f(r(744)),s=f(r(195)),d=r(192),c=r(21);function f(e){return e&&e.__esModule?e:{default:e}}var p={photo:a.default.shape(a.default.object).isRequired};function m(e){var t=e.photo,r=t.busCompany,a=t.busModel,f=t.busModelId,p=t.fleetPrefix,m=t.fleetNumber,E=t.image,g=t.licensePlateNumber,v=t.routeNumber,h=t.uploadedDate,_=t.username;return u.default.createElement("div",null,u.default.createElement("div",null,u.default.createElement(o.Image,{className:s.default["photo-details-image"],src:E,responsive:!0})),u.default.createElement(o.Table,{className:s.default["photo-details-table"],bordered:!0,hover:!0},u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("td",{colSpan:3},u.default.createElement(o.Media,null,u.default.createElement(o.Media.Left,null,u.default.createElement(o.Glyphicon,{className:s.default["user-icon"],glyph:"user",bsSize:"large"})),u.default.createElement(o.Media.Body,null,c.strings.dateUploaded+": ",n.DateTime.fromMillis(h).toFormat(d.DATE_FORMAT),u.default.createElement("br",null),c.strings.uploadedBy+": ",u.default.createElement(l.Link,{to:"/users/"+_},_))))),u.default.createElement("tr",null,u.default.createElement("td",null,c.strings.busModel),u.default.createElement("td",null,a),u.default.createElement("td",null,u.default.createElement(i.default,{to:"/search?busModelId="+f},c.strings.relatedModel))),u.default.createElement("tr",null,u.default.createElement("td",null,c.strings.fleetNumber),u.default.createElement("td",null,p,m),u.default.createElement("td",null,u.default.createElement(i.default,{to:"/search?fleetPrefix="+p},c.strings.relatedFleet))),u.default.createElement("tr",null,u.default.createElement("td",null,c.strings.licensePlateNumber),u.default.createElement("td",null,u.default.createElement("span",{className:s.default["license-plate"]},g.slice(0,2)," ",g.slice(2))),u.default.createElement("td",null,u.default.createElement(i.default,{to:"/search?licensePlateNumber="+g},c.strings.relatedBus))),u.default.createElement("tr",null,u.default.createElement("td",null,c.strings.busCompany),u.default.createElement("td",{colSpan:2},r)),u.default.createElement("tr",null,u.default.createElement("td",null,c.strings.routeNumber),u.default.createElement("td",null,u.default.createElement("span",{className:s.default["route-number"]},v)),u.default.createElement("td",null,u.default.createElement(i.default,{to:"/search?routeNumber="+v},c.strings.relatedRoute))))))}m.propTypes=p},744:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=o(r(0)),a=o(r(1)),u=r(26),l=r(17);function o(e){return e&&e.__esModule?e:{default:e}}var i={children:n.default.node,to:n.default.string.isRequired};function s(e){var t=e.children,r=e.to;return a.default.createElement("div",null,a.default.createElement(l.Button,{componentClass:u.Link,bsSize:"small",bsStyle:"info",href:r,to:r},t))}s.defaultProps={children:null},s.propTypes=i},75:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalContext=void 0;var n=r(1);t.GlobalContext=(0,n.createContext)()},87:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=o(r(0)),a=o(r(1)),u=r(17),l=r(21);function o(e){return e&&e.__esModule?e:{default:e}}var i={error:n.default.string.isRequired};function s(e){var t=e.error;return a.default.createElement(u.Alert,{bsStyle:"danger"},a.default.createElement("p",null,t.includes("404")?l.strings.notFoundMsg:l.strings.errorMsg))}s.defaultProps={error:""},s.propTypes=i},88:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement("div",{className:"loader"},n.default.createElement(a.default,{name:"spinner",spin:!0}))};var n=u(r(1)),a=u(r(690));function u(e){return e&&e.__esModule?e:{default:e}}}},[[297,1,2]]]);